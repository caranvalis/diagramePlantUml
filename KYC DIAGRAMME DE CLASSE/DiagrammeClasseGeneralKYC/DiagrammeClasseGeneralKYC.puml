@startuml DiagrammeClasseGeneralKYC
skinparam class {
    BackgroundColor #E0F7FA
    BorderColor #0097A7
}
skinparam linetype ortho

' --- Entités principales ---
class Client {
    +id : String
    +nom : String
    +prenom : String
    +dateNaissance : Date
    +type : String // particulier ou entreprise
    +statut : String
}

class Compte {
    +numero : String
    +rib : String
    +statut : String
    +dateOuverture : Date
    +dateCloture : Date
    +type : String
}

class Document {
    +id : String
    +type : String
    +dateDepot : Date
    +statut : String
}

class Gestionnaire {
    +id : String
    +nom : String
    +prenom : String
}

' --- Opérations/Services ---
class Preenregistrement {
    +datePreenregistrement : Date
    +canal : String // web, agence
}

class Enregistrement {
    +dateEnregistrement : Date
    +canal : String
}

class Modification {
    +dateModification : Date
    +champModifie : String
    +ancienneValeur : String
    +nouvelleValeur : String
}

class Blocage {
    +dateBlocage : Date
    +motif : String
    +typeBlocage : String // client ou compte
}

class Deblocage {
    +dateDeblocage : Date
    +motif : String
    +typeDeblocage : String // client ou compte
}

' --- Contrôles ---
class ControleIdentite {
    +statutValidation : String
    +dateControle : Date
}

class ControleConformite {
    +statutDoublon : Boolean
    +statutBlacklist : Boolean
    +statutPPE : Boolean
    +statutFATCA : Boolean
}

' --- Relations principales ---
Client "1" -- "0..*" Compte : possède >
Client "1" -- "0..*" Document : fournit >
Compte "1" -- "0..*" Document : justificatif >
Gestionnaire "1" -- "0..*" Compte : crée >
Compte "1" -- "1" ControleIdentite : contrôle identité >
Compte "1" -- "1" ControleConformite : contrôle conformité >

' --- Relations opérations ---
Client "1" -- "0..*" Preenregistrement : pré-enregistre >
Client "1" -- "0..*" Enregistrement : enregistre >
Client "1" -- "0..*" Modification : modifie >
Client "1" -- "0..*" Blocage : bloque >
Client "1" -- "0..*" Deblocage : débloque >

Compte "1" -- "0..*" Modification : modifie >
Compte "1" -- "0..*" Blocage : bloque >
Compte "1" -- "0..*" Deblocage : débloque >

Gestionnaire "1" -- "0..*" Preenregistrement : initie >
Gestionnaire "1" -- "0..*" Enregistrement : valide >
Gestionnaire "1" -- "0..*" Modification : effectue >
Gestionnaire "1" -- "0..*" Blocage : demande >
Gestionnaire "1" -- "0..*" Deblocage : demande >

@enduml